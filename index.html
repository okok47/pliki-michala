<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Michał PDF Files</title>

<style>
    body {
        margin: 0;
        height: 100vh;
        overflow: hidden;
        animation: kolory 5s infinite alternate;
    }

    @keyframes kolory {
        0%   { background: red; }
        20%  { background: orange; }
        40%  { background: yellow; }
        60%  { background: lime; }
        80%  { background: cyan; }
        100% { background: magenta; }
    }

    video {
        position: absolute;
        width: 300px;
        border-radius: 20px;
        object-fit: cover;
    }

    #playAudioBtn {
        position: fixed;
        top: 20px;
        left: 20px;
        padding: 10px 20px;
        font-size: 16px;
        z-index: 1000;
        cursor: pointer;
    }
</style>
</head>

<body>

<button id="playAudioBtn">Odtwórz muzykę</button>
<audio id="muzyka" src="muzyka.mp3" loop></audio>

<video id="film1" src="film1.mp4" autoplay loop muted></video>
<video id="film2" src="film2.mp4" autoplay loop muted></video>
<video id="film3" src="film3.mp4" autoplay loop muted></video>
<video id="film4" src="film4.mp4" autoplay loop muted></video>

<script>
const videos = [
    document.getElementById('film1'),
    document.getElementById('film2'),
    document.getElementById('film3'),
    document.getElementById('film4')
];

function startMovingVideos() {
    videos.forEach(v => {
        // ustawienie początkowej losowej pozycji
        const w = v.videoWidth || 300;
        const h = v.videoHeight || 300;
        v.style.top = Math.random() * (window.innerHeight - h) + 'px';
        v.style.left = Math.random() * (window.innerWidth - w) + 'px';
    });

    function moveVideos() {
        videos.forEach(v => {
            let top = parseFloat(v.style.top);
            let left = parseFloat(v.style.left);

            top += (Math.random() - 0.5) * 1.2; // wolny ruch
            left += (Math.random() - 0.5) * 1.2;

            top = Math.max(0, Math.min(window.innerHeight - v.offsetHeight, top));
            left = Math.max(0, Math.min(window.innerWidth - v.offsetWidth, left));

            v.style.top = top + 'px';
            v.style.left = left + 'px';
        });

        requestAnimationFrame(moveVideos);
    }

    moveVideos();
}

// Poczekaj aż wszystkie filmy się wczytają
let loadedCount = 0;
videos.forEach(v => {
    v.onloadedmetadata = () => {
        loadedCount++;
        if (loadedCount === videos.length) startMovingVideos();
    };
});

// przycisk do odtwarzania muzyki
document.getElementById('playAudioBtn').addEventListener('click', () => {
    const audio = document.getElementById('muzyka');
    audio.play().catch(err => {
        alert('Nie udało się odtworzyć muzyki. Spróbuj kliknąć jeszcze raz.');
    });
    document.getElementById('playAudioBtn').style.display = 'none'; // ukrycie przycisku
});
</script>

</body>
</html>
