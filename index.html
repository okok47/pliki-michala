<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>FILMY</title>

<style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

body {
    animation: bg 4s linear infinite;
}

@keyframes bg {
    0% { background: red; }
    25% { background: blue; }
    50% { background: green; }
    75% { background: purple; }
    100% { background: red; }
}

video {
    position: absolute;
    width: 280px;
    pointer-events: none;
}
</style>
</head>

<body>

<audio id="music" src="muzyka.mp3" loop></audio>

<video src="film1.mp4" autoplay loop muted playsinline></video>
<video src="film2.mp4" autoplay loop muted playsinline></video>
<video src="film3.mp4" autoplay loop muted playsinline></video>
<video src="film4.mp4" autoplay loop muted playsinline></video>

<script>
const videos = [...document.querySelectorAll("video")];
const size = 280;

const objs = videos.map(v => ({
    v,
    x: Math.random() * (window.innerWidth - size),
    y: Math.random() * (window.innerHeight - size),
    dx: (Math.random() < 0.5 ? -1 : 1) * 1.5,
    dy: (Math.random() < 0.5 ? -1 : 1) * 1.5
}));

function overlap(a, b) {
    return (
        a.x < b.x + size &&
        a.x + size > b.x &&
        a.y < b.y + size &&
        a.y + size > b.y
    );
}

function loop() {
    for (let i = 0; i < objs.length; i++) {
        let o = objs[i];

        o.x += o.dx;
        o.y += o.dy;

        // ściany
        if (o.x <= 0 || o.x >= window.innerWidth - size) o.dx *= -1;
        if (o.y <= 0 || o.y >= window.innerHeight - size) o.dy *= -1;

        // kolizje z innymi
        for (let j = i + 1; j < objs.length; j++) {
            let p = objs[j];
            if (overlap(o, p)) {
                o.dx *= -1;
                o.dy *= -1;
                p.dx *= -1;
                p.dy *= -1;
            }
        }

        o.v.style.left = o.x + "px";
        o.v.style.top = o.y + "px";
    }

    requestAnimationFrame(loop);
}

loop();

// MUZYKA — 100% PEWNE ODPALENIE
document.addEventListener("click", () => {
    const m = document.getElementById("music");
    m.volume = 1;
    m.play();
}, { once: true });
</script>

</body>
</html>



