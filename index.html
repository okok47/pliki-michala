<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Flying Videos FIX</title>

<style>
body {
    margin: 0;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    animation: bg 1s infinite alternate;
}

@keyframes bg {
    0% { background:red }
    25% { background:yellow }
    50% { background:lime }
    75% { background:cyan }
    100% { background:magenta }
}

video {
    position: absolute;
    width: 220px;
    pointer-events: none;
}

button {
    position: fixed;
    z-index: 9999;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 24px;
    padding: 20px 40px;
    cursor: pointer;
}
</style>
</head>

<body>

<button id="start">â–¶ START</button>

<audio id="music" src="muzyka.mp3" preload="auto" loop></audio>

<video src="film1.mov" muted loop preload="auto"></video>
<video src="film2.mov" muted loop preload="auto"></video>
<video src="film3.mov" muted loop preload="auto"></video>
<video src="film4.mov" muted loop preload="auto"></video>

<script>
const videos = document.querySelectorAll("video");
const music = document.getElementById("music");
const btn = document.getElementById("start");

function move(el) {
    const x = Math.random() * (window.innerWidth - el.offsetWidth);
    const y = Math.random() * (window.innerHeight - el.offsetHeight);
    el.style.transition = "transform 15s linear";
    el.style.transform = `translate(${x}px, ${y}px)`;
}

btn.onclick = async () => {
    btn.remove();

    try {
        await music.play();
        console.log("MUZYKA OK");
    } catch (e) {
        console.error("MUZYKA ERROR", e);
    }

    videos.forEach(v => {
        v.play().catch(err => console.error("VIDEO ERROR", v.src, err));
        move(v);
        setInterval(() => move(v), 15000);
    });
};
</script>

</body>
</html>

